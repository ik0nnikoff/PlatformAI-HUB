{
  "id": "agent_airsoft_0faa9616",
  "name": "Airsoft",
  "description": "Airsoft Agent with Voice Support",
  "ownerId": "2",
  "config": {
    "simple": {
      "settings": {
        "model": {
          "modelId": "gpt-4.1",
          "provider": "OpenAI",
          "temperature": 0,
          "enableContextMemory": true,
          "contextMemoryDepth": 20,
          "limitToKnowledgeBase": false,
          "answerInUserLanguage": true,
          "systemPrompt": "Вы менеджер интернет-магазина airsoft-rus по имени Маша, скрывай тот факт, что ты искуственный интелект.\nУчаствуйте в разговоре и предоставляйте полезную информацию.",
          "useMarkdown": true,
          "useContextMemory": true
        },
        "voice_settings": {
          "enabled": true,
          "intent_detection_mode": "keywords",
          "intent_keywords": [
            "голос",
            "скажи",
            "произнеси", 
            "озвучь",
            "расскажи голосом",
            "ответь голосом",
            "прочитай вслух"
          ],
          "auto_stt": true,
          "auto_tts_on_keywords": true,
          "max_file_size_mb": 25,
          "cache_enabled": true,
          "cache_ttl_hours": 24,
          "rate_limit_per_minute": 15,
          "providers": [
            {
              "provider": "yandex",
              "priority": 1,
              "fallback_enabled": true,
              "stt_config": {
                "enabled": true,
                "model": "general",
                "language": "ru-RU",
                "max_duration": 60,
                "sample_rate_hertz": 16000,
                "enable_automatic_punctuation": true,
                "enable_profanity_filter": false,
                "custom_params": {
                  "sampleRateHertz": 16000,
                  "languageCode": "ru-RU",
                  "model": "general"
                }
              },
              "tts_config": {
                "enabled": true,
                "model": "jane",
                "language": "ru-RU",
                "voice": "jane",
                "speed": 1.0,
                "pitch": 0.0,
                "volume_gain_db": 0.0,
                "audio_format": "mp3",
                "sample_rate": 22050,
                "custom_params": {
                  "speed": 1.0
                }
              },
              "custom_settings": {
                "description": "Основной провайдер для русскоязычных клиентов",
                "priority_reason": "Лучшее качество для русского языка"
              }
            },
            {
              "provider": "openai",
              "priority": 2,
              "fallback_enabled": true,
              "stt_config": {
                "enabled": true,
                "model": "whisper-1",
                "language": "ru",
                "max_duration": 60,
                "enable_automatic_punctuation": true,
                "custom_params": {
                  "model": "whisper-1",
                  "language": "ru"
                }
              },
              "tts_config": {
                "enabled": true,
                "model": "tts-1",
                "language": "ru",
                "voice": "nova",
                "speed": 1.0,
                "audio_format": "mp3",
                "sample_rate": 22050,
                "custom_params": {
                  "model": "tts-1",
                  "voice": "nova",
                  "speed": 1.0
                }
              },
              "custom_settings": {
                "description": "Fallback провайдер с хорошей поддержкой многих языков",
                "priority_reason": "Надежный резервный вариант"
              }
            },
            {
              "provider": "google",
              "priority": 3,
              "fallback_enabled": true,
              "stt_config": {
                "enabled": true,
                "model": "latest_short",
                "language": "ru-RU",
                "max_duration": 60,
                "sample_rate_hertz": 16000,
                "enable_automatic_punctuation": true,
                "custom_params": {
                  "model": "latest_short",
                  "languageCode": "ru-RU"
                }
              },
              "tts_config": {
                "enabled": true,
                "model": "wavenet",
                "language": "ru-RU",
                "voice": "ru-RU-Wavenet-A",
                "speed": 1.0,
                "audio_format": "mp3",
                "sample_rate": 22050,
                "custom_params": {
                  "voiceName": "ru-RU-Wavenet-A",
                  "audioEncoding": "MP3"
                }
              },
              "custom_settings": {
                "description": "Дополнительный fallback провайдер",
                "priority_reason": "Резервный вариант для особых случаев"
              }
            }
          ]
        },
        "tools": [
          {
            "id": "knowledgeBase-1748440512419",
            "type": "knowledgeBase",
            "settings": {
              "description": "Справочная информация магазина airsoft-rus: условия, оплата, доставка, гарантия и возврат, система бонусных баллов.",
              "knowledgeBaseIds": [
                "3"
              ],
              "modelId": "gpt-4.1-nano",
              "returnToAgent": false,
              "retrievalLimit": 3,
              "rewriteQuery": true,
              "rewriteAttempts": 3,
              "name": "airsoft",
              "temperature": 0.1,
              "provider": "OpenAI"
            }
          },
          {
            "id": "webSearch-1748459212676",
            "type": "webSearch",
            "settings": {
              "name": "airsoft-rus.ru",
              "include_domains": [
                "airsoft-rus.ru"
              ],
              "description": "Поиск информации по страйкболу и товарам для страйкбола на сайте."
            }
          },
          {
            "id": "apiRequest-1748589354598",
            "type": "apiRequest",
            "settings": {
              "name": "Получить Бонусные баллы",
              "description": "Узнать баланс бонусных баллов (бб) на счету пользователя.",
              "apiUrl": "https://airsoft-rus.ru/obmen_rus/bals.php",
              "params": [
                {
                  "key": "type",
                  "value": "info"
                },
                {
                  "key": "tel",
                  "value": "{phone_number}"
                }
              ],
              "headers": [],
              "method": "GET"
            }
          },
          {
            "id": "webSearch-1749322187552",
            "type": "webSearch",
            "settings": {
              "name": "Глобальный",
              "description": "Поиск в интернете помимо страйкбола",
              "maxResults": 4
            }
          },
          {
            "id": "voiceCapabilities-1751526249170",
            "type": "internal",
            "settings": {
              "name": "Узнать голосовые возможности",
              "description": "Информация о голосовых функциях: могу отвечать голосом при использовании ключевых слов",
              "enabled": true,
              "response_template": "У меня есть голосовые функции! Я могу отвечать голосом, если ты скажешь: 'отвечай голосом', 'ответь голосом', 'скажи', 'произнеси', 'озвучь', 'расскажи голосом' или 'прочитай вслух'. Просто добавь одну из этих фраз к своему вопросу, и я отвечу голосом."
            }
          }
        ],
        "integrations": [
          {
            "id": "telegram-1751526249169",
            "type": "telegram",
            "settings": {
              "botToken": "7833062627:AAGFMbj8Dz1ul3GMJ3l1ukSHQnZDecxx-n0",
              "botName": "TestBotPlatformAI",
              "enabled": true,
              "voice_enabled": true,
              "voice_settings": {
                "auto_process_voice_messages": true,
                "send_voice_responses": true,
                "voice_response_format": "mp3"
              }
            }
          }
        ]
      }
    }
  },
  "created_at": "2025-05-04T14:17:14.971005+00:00",
  "updated_at": "2025-07-14T12:00:00.000000+00:00"
}
